@model List<QuanLyThongTinDaoTao.Models.LopHoc>
@{
    ViewBag.Title = "Danh Sách Lớp Học - " + ViewBag.TenKhoaHoc;
    Layout = "~/Areas/Admin/Views/Shared/_MainAdminLayout.cshtml";
}
<style>
    .course-item {
        border: 2px solid #1ce9dd; /* Viền xung quanh khóa học */
        border-radius: 30px;
        transition: all 0.3s ease-in-out;
        overflow: hidden;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }

        .course-item:hover {
            transform: scale(1.05);
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
        }

        .course-item img {
            border-bottom: 2px solid #007bff;
        }

    .d-flex.border-top small {
        transition: all 0.3s ease-in-out;
        font-size: 20px;
    }

        .d-flex.border-top small:hover {
            background-color: #007bff;
            color: white;
            cursor: pointer;
            border-radius: 5px;
            padding: 5px;
        }
</style>
<div class="container-fluid">
    <div class="row m-lg-auto">
        @foreach (var lophoc in Model)
        {
            var imageAttachment = lophoc.LopHocAttachments?
                                   .FirstOrDefault(a => a.Attachment != null && (a.Attachment.FileType.ToLower().Contains("jpg") || a.Attachment.FileType.ToLower().Contains("png") || a.Attachment.FileType.ToLower().Contains("jpeg")))
                                   ?.Attachment;

            var imagePath = imageAttachment != null
                            ? Url.Content(imageAttachment.FilePath)
                            : Url.Content("~/Upload/LopHoc/default.png");

            <div class="col-lg-3 col-md- col-sm-12 mt-3 " data-wow-delay="0.1s">
                <div class="course-item bg-light">
                    <div class="position-relative overflow-hidden">
                        <a href="@Url.Action("Details", "LopHoc", new { id = lophoc.LopHocId })">
                            <img class="img-fluid" src='@imagePath' alt="@lophoc.TenLopHoc" />
                        </a>
                    </div>

                    <div class="text-center p-3 pb-2">
                        <h5 class="m-0">@lophoc.TenLopHoc</h5>
                        <h5 class="text-muted">Số tín chỉ: @lophoc.SoTinChi</h5>
                        <p class="text-muted">Ngày bắt đầu: @lophoc.NgayBatDau.ToString("dd/MM/yyyy")</p>
                        <p class="text-muted">Ngày kết thúc: @lophoc.NgayKetThuc.ToString("dd/MM/yyyy")</p>
                        <span class="badge bg-@(lophoc.TrangThai == "SapMo" ? "warning" : (lophoc.TrangThai == "DangHoc" ? "success" : "secondary"))">
                            @(lophoc.TrangThai == "SapMo" ? "Sắp Mở" : (lophoc.TrangThai == "DangHoc" ? "Đang Học" : "Đã Kết Thúc"))
                        </span>
                    </div>

                    <div class="d-flex border-top">
                        <small class="flex-fill text-center border-end py-2">
                            <a href="@Url.Action("Edit", new { id = lophoc.LopHocId })" class="text-warning"><i class="fas fa-edit"></i> Sửa</a>
                        </small>
                        <small class="flex-fill text-center py-2">
                            <a href="@Url.Action("Delete", new { id = lophoc.LopHocId })" class="text-danger" onclick="return confirm('Bạn có chắc chắn muốn xóa lớp học này?');">
                                <i class="fas fa-trash-alt"></i> Xóa
                            </a>
                        </small>
                    </div>
                </div>
            </div>
        }
    </div>
</div>

